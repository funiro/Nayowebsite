<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events & News | Community Programs | Nancholi Youth Organization</title>
    
    <!-- Primary Meta Tags -->
    <meta name="title" content="Events & News | Community Programs | Nancholi Youth Organization">
    <meta name="description" content="Stay updated with NAYO's latest events, community programs, and news in Blantyre, Malawi. Join our initiatives and make a difference in the community.">
    <meta name="keywords" content="NAYO events Malawi, community programs Blantyre, youth events Malawi, charity events, community outreach Malawi, NAYO news, Malawi NGO events, volunteer opportunities Malawi">
    <meta name="author" content="Nancholi Youth Organization">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://nayomalawi.org/events.html">
    <meta property="og:title" content="Events & News | Community Programs | Nancholi Youth Organization">
    <meta property="og:description" content="Stay updated with NAYO's latest events, community programs, and news in Blantyre, Malawi. Join our initiatives and make a difference in the community.">
    <meta property="og:image" content="https://nayomalawi.org/images/christmas-events.jpg">
    
    <!-- Styles -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.10.2/fullcalendar.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/programs.css">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://nayomalawi.org/events.html">
    <meta property="twitter:title" content="Events & News | Community Programs | Nancholi Youth Organization">
    <meta property="twitter:description" content="Stay updated with NAYO's latest events, community programs, and news in Blantyre, Malawi. Join our initiatives and make a difference in the community.">
    <meta property="twitter:image" content="https://nayomalawi.org/images/christmas-events.jpg">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://nayomalawi.org/events.php">
    
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/programs.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.css">
    <script src="js/main.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/locales-all.min.js"></script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Nancholi Youth Organization (NAYO)",
      "alternateName": "NAYO",
      "url": "https://nayomalawi.org/",
      "logo": "https://nayomalawi.org/images/logo.png",
      "description": "NAYO is a leading NGO in Malawi providing healthcare services, youth development programs, HIV/AIDS care, palliative care, and educational support in Blantyre and surrounding areas.",
      "email": "info@nayomalawi.org",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "P.O. Box 1624",
        "addressLocality": "Blantyre",
        "addressCountry": "MW"
      },
      "contactPoint": {
        "@type": "ContactPoint",
        "contactType": "General Inquiries",
        "email": "info@nayomalawi.org"
      },
      "sameAs": [
        "https://www.linkedin.com/company/nancholi-youth-organisation-nayo/",
        "https://www.givey.com/nayoukschoolfundraiser20232024",
        "https://www.every.org/nancholi-youth-organization"
      ]
    }
    </script>
</head>
<body>
    <header>
        <nav class="main-nav">
            <div class="logo">
                <a href="index.php" class="logo-link">
                    <img src="images/logo.png" alt="NAYO Logo" class="logo-img">
                    <span class="tagline">One Heart,<br>One Community</span>
                </a>
            </div>
            <button class="mobile-menu-toggle">
                <i class="fas fa-bars"></i>
            </button>
            <ul class="nav-links">
                <li><a href="index.php">HOME</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle">PROJECTS</a>
                    <ul class="dropdown-menu">
                        <li><a href="art.php">ART</a></li>
                        <li><a href="antenatal.php">ANTENATAL CARE</a></li>
                        <li><a href="palliative.php">PALLIATIVE CARE</a></li>
                        <li><a href="student.php">STUDENT SUPPORT</a></li>
                        <li><a href="outreach.php">OUTREACH PROGRAMS</a></li>
                        <li><a href="youth.php">YOUTH FRIENDLY SERVICES</a></li>
                    </ul>
                </li>
                <li><a href="events.php">EVENTS</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle">OUR PEOPLE</a>
                    <ul class="dropdown-menu">
                        <li><a href="board.php">BOARD</a></li>
                        <li><a href="staff.php">STAFF</a></li>
                    </ul>
                </li>

                <li><a href="volunteer.php">VOLUNTEER</a></li>
                <li><a href="https://www.every.org/nancholi-youth-organization?search_meta=" class="donate-btn">Donate</a></li>
            </ul>
        </nav>
    </header>

    <main class="events-content">
        <section class="events-hero">
            <div class="container">
                <h1>Upcoming Events & News</h1>
                <p>Stay updated with our latest community programs and initiatives</p>
            </div>
        </section>

        <div class="container">
            <div class="events-filters">
                <div class="filter-group">
                    <label for="category-filter">Filter by Category:</label>
                    <select id="category-filter" class="filter-select">
                        <option value="">All Categories</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="status-filter">Filter by Status:</label>
                    <select id="status-filter" class="filter-select">
                        <option value="">All Status</option>
                        <option value="upcoming">Upcoming</option>
                        <option value="past">Past Events</option>
                    </select>
                </div>
                <button id="calendar-view" class="btn secondary">
                    <i class="fas fa-calendar-alt"></i> Calendar View
                </button>
            </div>

            <div class="events-container">
                <div id="events-list" class="events-grid"></div>
                <div id="calendar" class="calendar-view" style="display: none;"></div>
            </div>
        </div>
    </main>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const eventsList = document.getElementById('events-list');
        const categoryFilter = document.getElementById('category-filter');
        const statusFilter = document.getElementById('status-filter');
        const calendarView = document.getElementById('calendar-view');
        const calendarContainer = document.getElementById('calendar');

        let calendar = null;

        function loadEvents() {
            fetch('php/events.php')
                .then(response => response.json())
                .then(data => {
                    // Populate category filter
                    data.categories.forEach(category => {
                        const option = document.createElement('option');
                        option.value = category;
                        option.textContent = category;
                        categoryFilter.appendChild(option);
                    });

                    // Render events
                    renderEvents(data.events);
                })
                .catch(error => console.error('Error loading events:', error));
        }

        function renderEvents(events) {
            eventsList.innerHTML = events.map(event => `
                <article class="event-card" data-id="${event.id}">
                    <div class="event-image">
                        <img src="${event.image}" alt="${event.title}">
                    </div>
                    <div class="event-content">
                        <h3>${event.title}</h3>
                        <div class="event-meta">
                            <span class="event-date">${new Date(event.date).toLocaleDateString()}</span>
                            <span class="event-time">${event.time}</span>
                            <span class="event-location">
                                <i class="fas fa-map-marker-alt"></i>
                                ${event.location}
                            </span>
                        </div>
                        <p class="event-description">${event.description}</p>
                        ${event.rsvp ? '<button class="btn primary rsvp-btn">RSVP Now</button>' : ''}
                    </div>
                </article>
            `).join('');

            // Add click handlers for RSVP buttons
            document.querySelectorAll('.rsvp-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const eventId = this.closest('.event-card').dataset.id;
                    handleRSVP(eventId);
                });
            });

            // Initialize calendar if needed
            if (calendar) {
                calendar.destroy();
            }

            calendar = new FullCalendar.Calendar(calendarContainer, {
                initialView: 'dayGridMonth',
                locale: 'en',
                events: events.map(event => ({
                    title: event.title,
                    start: event.date,
                    allDay: true,
                    extendedProps: {
                        id: event.id,
                        location: event.location,
                        description: event.description,
                        rsvp: event.rsvp
                    }
                })),
                eventClick: function(info) {
                    window.location.href = `event-details.html?id=${info.event.extendedProps.id}`;
                }
            });

            calendar.render();
        }

        function handleRSVP(eventId) {
            // Implement RSVP functionality here
            alert('RSVP functionality will be implemented soon!');
        }

        // Filter events
        function filterEvents() {
            const category = categoryFilter.value;
            const status = statusFilter.value;
            const params = new URLSearchParams();

            if (category) params.append('category', category);
            if (status) params.append('status', status);

            fetch(`php/events.php?${params.toString()}`)
                .then(response => response.json())
                .then(data => renderEvents(data.events));
        }

        // Event listeners
        categoryFilter.addEventListener('change', filterEvents);
        statusFilter.addEventListener('change', filterEvents);
        calendarView.addEventListener('click', function() {
            calendarContainer.style.display = this.classList.toggle('active') ? 'block' : 'none';
        });

        // Initial load
        loadEvents();
    });
    </script>

    <!-- Include footer -->
    <?php include 'includes/footer.php'; ?>
<!-- Include footer -->`n    <?php include 'includes/footer.php'; ?>`n</body>
</html>

